local Host = {}
Host.__index = Host
Host.State = {}
Host.State.Mine = 0
Host.State.Undiscovered = 1
Host.State.Discovered = 2
Host.State.Compromised = 3
Host.State.RootAccess = 4

function Host.new(x, y, ip, state, type)
  local self = setmetatable({}, Host)
  self.x = x
  self.y = y
  self.ip = ip
  self.type = type
  self.selected = false
  local ui = loveframes.Create("imagebutton")
  self.ui = ui
  ui:SetState("play")
  ui:SetText(ip)
  ui:SetParent(game.play.map_panel)
  ui:SetPos(x, y)
  self:set_state(state)
  return self
end

function Host:set_state(new_state)
  if new_state == Host.State.Undiscovered then
    self.ui:SetVisible(false)
  else
    self.ui:SetVisible(true)
  end
  self.state = new_state
  self:set_image()
end

function Host:get_state()
  return self.state
end

function Host:set_image()
  image_path = "images/" .. self.type
  if self.state == Host.State.Mine then
    image_path = image_path .. "_" .. "mine"
  else

  end
  if self.selected then
    image_path = image_path .. "_selected"
  end
  image_path = image_path .. ".png"
  self.ui:SetImage(image_path)
end

function Host:destroy()
  self.ui:Remove()
end

return Host