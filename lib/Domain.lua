require "lib.util"

local Domain = {}
Domain.__index = Domain
Domain.domain_name_type_map = {}
Domain.all = {}

function Domain.new(name, type, value)
  local self = setmetatable({}, Domain)
  self.name = name
  self.type = type
  self.value = value
  Domain.all[#(Domain.all)+1] = self
  if Domain.domain_name_type_map[name] == nil then
    Domain.domain_name_type_map[name] = {}
  end
  Domain.domain_name_type_map[name][type] = self
  return self
end

function Domain.lookup(name, type)
  return Domain.domain_name_type_map[name][type]
end

return Domain