require "lunit"
local Domain = require "lib.Domain"

module( "Domain_testcase", package.seeall, lunit.testcase )

function test_new_method()
  assert_not_nil( Domain.new("stayman.com", "A", "10.0.0.1") )
end

function test_lookup_method()
  Domain.domain_name_type_map = {}
  Domain.all = {}
  Domain.new("stayman.com", "A", "10.0.0.1")
  assert_equal( "10.0.0.1", Domain.lookup("stayman.com", "A").value )
end
