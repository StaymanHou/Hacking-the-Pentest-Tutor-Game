require "lunit"
local dns_resolver = require "lib.dns_resolver"
local Domain = require "lib.Domain"

module( "dns_resolver_testcase", package.seeall, lunit.testcase )

function test_resolve_function(record, type)
  Domain.domain_name_type_map = {}
  Domain.all = {}
  Domain.new("stayman.com", "A", "10.0.0.1")
  assert_equal( "10.0.0.1", dns_resolver.resolve("stayman.com", "A") )
end
