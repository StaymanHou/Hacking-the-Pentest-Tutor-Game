require "lunit"
local Configuration = require "lib.Configuration"

module( "Configuration_testcase", package.seeall, lunit.testcase )

function test_load_function()
  Configuration.configuration_name_map = {}
  Configuration.all = {}
  assert_not_equal( 0, #(Configuration.load()) )
end

function test_new_method()
  Configuration.configuration_name_map = {}
  Configuration.all = {}
  assert_not_nil( Configuration.new("weak password") )
end

function test_lookup_method()
  Configuration.configuration_name_map = {}
  Configuration.all = {}
  Configuration.new("weak password")
  assert_equal( "weak password", Configuration.lookup("weak password").name )
end
