local message_modal = {}

function message_modal:load()
  local message_modal_frame = loveframes.Create("frame")
  message_modal_frame:SetSize(500, 400)
  message_modal_frame:Center()
  message_modal_frame:ShowCloseButton(false)
  message_modal_frame:SetVisible(false)
  message_modal_frame:SetName("")
  self.message_modal_frame = message_modal_frame

  local message_modal_list = loveframes.Create("list", message_modal_frame)
  message_modal_list:SetPos(10, 30)
  message_modal_list:SetSize(480, message_modal_frame.height - 80)
  message_modal_list:SetPadding(5)
  message_modal_list:SetSpacing(5)
  self.message_modal_list = message_modal_list

  local message_modal_text = loveframes.Create("text", message_modal_frame)
  message_modal_text:SetText("")
  message_modal_text:SetFont(love.graphics.newFont(12))
  message_modal_list:AddItem(message_modal_text)
  self.message_modal_text = message_modal_text

  local message_modal_close_button = loveframes.Create("button", message_modal_frame)
  message_modal_close_button:SetText("Close")
  message_modal_close_button:SetY(message_modal_frame.height - 40)
  message_modal_close_button:CenterX()
  message_modal_close_button.OnClick = function(object)
    message_modal_frame:SetVisible(false)
    message_modal_frame:SetModal(false)
  end
end

function message_modal:display(text)
  self.message_modal_text:SetText(text)
  self.message_modal_frame:SetState(loveframes.GetState())
  self.message_modal_frame:SetVisible(true)
  self.message_modal_frame:SetModal(true)
end

return message_modal